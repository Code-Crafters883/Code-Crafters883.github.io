<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Just For U üíû</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Georgia', serif;
        }

        body {
            background: #0f0c29;
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .page {
            display: none;
            max-width: 900px;
            width: 100%;
            padding: 40px;
            text-align: center;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease;
        }

        .page.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .page.hidden {
            display: none;
        }

        .elegant-title {
            font-size: 3rem;
            margin-bottom: 30px;
            background: linear-gradient(45deg, #ff8a00, #da1b60);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 300;
            letter-spacing: 2px;
        }

        .message {
            font-size: 1.4rem;
            line-height: 1.8;
            margin-bottom: 40px;
            color: #e6e6e6;
            font-weight: 300;
        }

        .next-btn {
            background: transparent;
            color: #ff8a00;
            border: 2px solid #ff8a00;
            padding: 15px 40px;
            font-size: 1.2rem;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 30px;
            letter-spacing: 1px;
        }

        .next-btn:hover {
            background: rgba(255, 138, 0, 0.1);
            transform: translateY(-3px);
        }

        .highlight {
            color: #ff8a00;
            font-weight: 400;
        }

        /* Fireworks Page Styles */
        .fireworks-page {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        #fireworksCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

         .fireworks-content {
            position: relative;
            z-index: 2;
            margin: 300px auto 0 auto; /* 100px top margin to push it down */
            max-width: 800px;
         }

        .fireworks-title {
            font-size: 2.5rem;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #ff8a00, #da1b60);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 300;
            letter-spacing: 2px;
        }

        .fireworks-message {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 30px;
            color: #e6e6e6;
        }

        /* Pictures styling for page 1 */
        .pictures-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .memory-pic {
            width: 180px;
            height: 180px;
            object-fit: cover;
            border-radius: 15px;
            border: 3px solid rgba(255, 138, 0, 0.3);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .memory-pic:hover {
            transform: scale(1.05);
            border-color: #ff8a00;
            box-shadow: 0 8px 25px rgba(255, 138, 0, 0.4);
        }

        /* Letter Styles for Page 5 */
        .letter-wrapper {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0 40px 0;
        }

        .letter-container {
            max-width: 600px;
            width: 100%;
            background:
                radial-gradient(circle at 30% 20%, rgba(101, 67, 33, 0.08) 0%, transparent 30%),
                radial-gradient(circle at 70% 80%, rgba(101, 67, 33, 0.06) 0%, transparent 35%),
                radial-gradient(circle at 85% 15%, rgba(139, 69, 19, 0.05) 0%, transparent 25%),
                radial-gradient(circle at 15% 85%, rgba(160, 82, 45, 0.04) 0%, transparent 30%),
                repeating-linear-gradient(
                    0deg,
                    transparent 0px,
                    transparent 31px,
                    rgba(101, 67, 33, 0.08) 31px,
                    rgba(101, 67, 33, 0.08) 32px
                ),
                linear-gradient(135deg, #f4e8d4 0%, #e8dcc4 30%, #d4c4a8 50%, #e8dcc4 70%, #f4e8d4 100%);
            padding: 3rem 2.5rem;
            box-shadow:
                0 15px 50px rgba(0, 0, 0, 0.3),
                0 5px 15px rgba(0, 0, 0, 0.2),
                inset 0 0 150px rgba(101, 67, 33, 0.15),
                inset 20px 0 80px rgba(101, 67, 33, 0.1),
                inset -20px 0 80px rgba(101, 67, 33, 0.1);
            border-radius: 0;
            position: relative;
            border: 3px solid #8b6f47;
            border-image: linear-gradient(135deg, #654321, #8b6f47, #654321) 1;
        }

        .letter-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image:
                repeating-linear-gradient(0deg, transparent 0%, transparent 2%, rgba(101, 67, 33, 0.02) 2%, rgba(101, 67, 33, 0.02) 4%),
                repeating-linear-gradient(90deg, transparent 0%, transparent 2%, rgba(101, 67, 33, 0.02) 2%, rgba(101, 67, 33, 0.02) 4%);
            opacity: 0.4;
            pointer-events: none;
            mix-blend-mode: multiply;
        }

        .letter-container::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                radial-gradient(ellipse at 10% 10%, rgba(139, 69, 19, 0.15) 0%, transparent 40%),
                radial-gradient(ellipse at 90% 90%, rgba(139, 69, 19, 0.12) 0%, transparent 40%),
                radial-gradient(ellipse at 50% 50%, transparent 30%, rgba(101, 67, 33, 0.08) 100%);
            pointer-events: none;
        }

        .letter-header {
            text-align: center;
            margin-bottom: 2rem;
            padding: 1.5rem;
            border: 3px double #654321;
            background: radial-gradient(ellipse at center, rgba(244, 232, 212, 0.6) 0%, transparent 70%);
            position: relative;
        }

        .letter-header::before {
            content: '‚ù¶';
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.5rem;
            background: #e8dcc4;
            padding: 0 1rem;
            color: #654321;
        }

        .letter-title {
            font-size: 1.8rem;
            font-weight: 400;
            margin: 0;
            font-family: 'Georgia', serif;
            letter-spacing: 2px;
            text-shadow: 2px 2px 4px rgba(101, 67, 33, 0.3);
            color: #654321;
        }

        .letter-subtitle {
            font-size: 1rem;
            margin: 0.8rem 0 0 0;
            opacity: 0.7;
            font-family: 'Georgia', serif;
            font-style: italic;
            letter-spacing: 2px;
            color: #654321;
        }

        .letter-content {
            line-height: 2.2;
            position: relative;
            z-index: 1;
            font-family: 'Georgia', serif;
        }

        .greeting {
            font-size: 1.6rem;
            font-weight: 400;
            margin-bottom: 1.2rem;
            font-style: italic;
            color: #2d1f14;
        }

        .letter-body {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            text-align: justify;
            font-weight: 400;
            line-height: 2;
            text-indent: 2rem;
            color: #2d1f14;
            min-height: 200px;
        }

        .letter-closing {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            margin-top: 2rem;
            font-weight: 400;
            font-style: italic;
            color: #2d1f14;
        }

        .letter-signature {
            font-size: 2rem;
            font-weight: 400;
            margin-top: 0.5rem;
            transform: rotate(-2deg);
            display: inline-block;
            color: #654321;
            font-family: 'Georgia', serif;
        }

        .decoration {
            text-align: center;
            font-size: 1.3rem;
            margin: 1.5rem 0;
            opacity: 0.5;
            color: #654321;
            letter-spacing: 1rem;
        }

        .heart {
            display: inline-block;
            animation: heartbeat 2s infinite;
            margin: 0 0.5rem;
        }

        @keyframes heartbeat {
            0%, 100% {
                transform: scale(1);
            }
            10%, 30% {
                transform: scale(1.1);
            }
            20%, 40% {
                transform: scale(1);
            }
        }

        .ink-stain {
            position: absolute;
            width: 30px;
            height: 30px;
            background: radial-gradient(ellipse at center, rgba(45, 31, 20, 0.15) 0%, rgba(45, 31, 20, 0.08) 40%, transparent 70%);
            border-radius: 50% 40% 55% 45%;
            opacity: 0.6;
            z-index: 1;
        }

        .ink-stain.small {
            width: 15px;
            height: 15px;
        }

        .corner-decoration {
            position: absolute;
            font-size: 1.4rem;
            color: #654321;
            opacity: 0.4;
            z-index: 1;
            margin: 0.8rem;
        }

        /* Interactive Cake Styles */
        .cake-container {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
            margin: 40px auto;
        }

        .cake {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0;
            filter: drop-shadow(0 20px 40px rgba(0,0,0,0.3));
        }

        .candles-row {
            display: flex;
            gap: 2.5rem;
            margin-bottom: 5px;
            z-index: 10;
        }

        .candle {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .candle:hover {
            transform: scale(1.08);
        }

        .flame {
            width: 16px;
            height: 32px;
            background: radial-gradient(ellipse at center bottom, #ff6b00 0%, #ff8c00 20%, #ffa500 40%, #ffff00 60%, rgba(255,255,0,0.3) 100%);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            position: relative;
            animation: flicker 0.15s infinite alternate;
            box-shadow: 0 0 20px rgba(255, 140, 0, 0.8), 0 0 40px rgba(255, 165, 0, 0.4);
            filter: blur(0.5px);
        }

        .flame::after {
            content: '';
            position: absolute;
            width: 8px;
            height: 18px;
            background: radial-gradient(ellipse, rgba(255, 255, 200, 0.9) 0%, rgba(255, 255, 0, 0.6) 50%, transparent 100%);
            border-radius: 50%;
            top: 30%;
            left: 50%;
            transform: translateX(-50%);
        }

        .flame.out {
            display: none;
        }

        @keyframes flicker {
            0% { transform: scale(1, 1) translateY(0); }
            25% { transform: scale(0.98, 1.02) translateY(-1px); }
            50% { transform: scale(1.02, 0.98) translateY(-2px); }
            75% { transform: scale(0.99, 1.01) translateY(-1px); }
            100% { transform: scale(1, 1) translateY(0); }
        }

        .candle-stick {
            width: 12px;
            height: 65px;
            background: linear-gradient(to right, #e8d5c4 0%, #f5e6d3 20%, #fff8f0 40%, #f5e6d3 60%, #e8d5c4 100%);
            border-radius: 6px;
            position: relative;
            box-shadow: inset -2px 0 3px rgba(139, 90, 43, 0.15), inset 2px 0 3px rgba(255, 255, 255, 0.3);
        }

        .candle-stick::before {
            content: '';
            position: absolute;
            top: 0;
            left: 2px;
            width: 2px;
            height: 100%;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.5), transparent 50%);
            border-radius: 2px;
        }

        .cake-tier {
            position: relative;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            animation: floating 4s ease-in-out infinite;
        }

        @keyframes floating {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .tier-1 {
            width: 280px;
            height: 100px;
            z-index: 3;
        }

        .tier-2 {
            width: 380px;
            height: 110px;
            margin-top: -8px;
            z-index: 2;
        }

        .tier-3 {
            width: 480px;
            height: 120px;
            margin-top: -8px;
            z-index: 1;
        }

        .cake-layer {
            width: 100%;
            height: 60%;
            background: linear-gradient(135deg, #8b4513 0%, #a0522d 50%, #8b4513 100%);
            position: relative;
            overflow: hidden;
        }

        .cake-layer::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background:
                repeating-linear-gradient(90deg, transparent 0px, transparent 8px, rgba(139, 69, 19, 0.1) 8px, rgba(139, 69, 19, 0.1) 9px),
                repeating-linear-gradient(0deg, transparent 0px, transparent 8px, rgba(139, 69, 19, 0.1) 8px, rgba(139, 69, 19, 0.1) 9px);
            opacity: 0.3;
        }

        .cake-layer::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 30%;
            bottom: 0;
            background: linear-gradient(to bottom, transparent, rgba(0,0,0,0.15));
        }

        .frosting-layer {
            width: 100%;
            height: 40%;
            background: linear-gradient(to bottom, #fffaf0 0%, #faebd7 50%, #f5deb3 100%);
            position: relative;
            border-radius: 0 0 12px 12px;
            box-shadow: inset 0 2px 4px rgba(255, 255, 255, 0.5), inset 0 -2px 4px rgba(210, 180, 140, 0.3);
        }

        .frosting-layer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100%;
            background:
                radial-gradient(ellipse 40px 25px at 40px 0px, transparent 0, transparent 20px, #fffaf0 20px, #fffaf0 25px, transparent 25px),
                radial-gradient(ellipse 40px 25px at 120px 0px, transparent 0, transparent 20px, #fffaf0 20px, #fffaf0 25px, transparent 25px),
                radial-gradient(ellipse 40px 25px at 200px 0px, transparent 0, transparent 20px, #fffaf0 20px, #fffaf0 25px, transparent 25px),
                radial-gradient(ellipse 40px 25px at 280px 0px, transparent 0, transparent 20px, #fffaf0 20px, #fffaf0 25px, transparent 25px),
                radial-gradient(ellipse 40px 25px at 360px 0px, transparent 0, transparent 20px, #fffaf0 20px, #fffaf0 25px, transparent 25px),
                radial-gradient(ellipse 40px 25px at 440px 0px, transparent 0, transparent 20px, #fffaf0 20px, #fffaf0 25px, transparent 25px);
            background-repeat: repeat-x;
            border-radius: 0 0 12px 12px;
        }

        .frosting-swirls {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
        }

        .swirl {
            position: absolute;
            width: 30px;
            height: 12px;
            background: radial-gradient(ellipse at center, rgba(255, 255, 255, 0.4) 0%, transparent 70%);
            border-radius: 50%;
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }

        .cake-side {
            position: absolute;
            width: 100%;
            height: 60%;
            top: 0;
            background: linear-gradient(to bottom, #a0522d 0%, #8b4513 50%, #6b3410 100%);
            border-radius: 12px 12px 0 0;
        }

        .cake-side::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 20%;
            background: linear-gradient(to bottom, rgba(160, 82, 45, 0.5), transparent);
            border-radius: 12px 12px 0 0;
        }

        .plate {
            width: 520px;
            height: 30px;
            background: linear-gradient(to bottom, #e8e8e8 0%, #d0d0d0 50%, #b8b8b8 100%);
            border-radius: 50%;
            margin-top: -10px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.25), inset 0 2px 4px rgba(255,255,255,0.4);
            position: relative;
            z-index: 0;
        }

        .plate::before {
            content: '';
            position: absolute;
            width: 90%;
            height: 60%;
            top: 20%;
            left: 5%;
            background: radial-gradient(ellipse at center, rgba(255,255,255,0.3) 0%, transparent 70%);
            border-radius: 50%;
        }

        .instruction {
            margin-top: 2rem;
            font-size: 1.1rem;
            text-align: center;
            font-style: italic;
            letter-spacing: 1px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        .celebration {
            position: fixed;
            pointer-events: none;
            font-size: 2.5rem;
            animation: float-up 3s ease-out forwards;
        }

        @keyframes float-up {
            0% {
                transform: translateY(0) scale(0);
                opacity: 1;
            }
            100% {
                transform: translateY(-300px) scale(1.5);
                opacity: 0;
            }
        }

        .confetti {
            position: fixed;
            width: 12px;
            height: 12px;
            pointer-events: none;
            animation: fall 3s ease-out forwards;
        }

        @keyframes fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100%) rotate(720deg);
                opacity: 0;
            }
        }

        .gift-box {
            width: 200px;
            height: 200px;
            background: linear-gradient(45deg, #da1b60, #ff4757);
            margin: 40px auto;
            position: relative;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(218, 27, 96, 0.3);
            transform-style: preserve-3d;
            transition: transform 1s ease;
            cursor: pointer;
        }

        .gift-box:hover {
            transform: rotateY(180deg);
        }

        .gift-lid {
            width: 220px;
            height: 40px;
            background: linear-gradient(45deg, #ff4757, #ff8a00);
            position: absolute;
            top: -20px;
            left: -10px;
            border-radius: 5px;
        }

        .gift-ribbon {
            width: 20px;
            height: 100%;
            background: #fff;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        .gift-ribbon::before {
            content: '';
            width: 100%;
            height: 20px;
            background: #fff;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
        }

        .gift-instruction {
            font-size: 1.2rem;
            color: #FFD700;
            margin-top: 20px;
            font-style: italic;
            animation: pulse 2s infinite;
        }

        .memory-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 138, 0, 0.2);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            text-align: left;
            opacity: 0;
            transform: translateX(-50px);
            transition: all 0.6s ease;
        }

        .memory-card.visible {
            opacity: 1;
            transform: translateX(0);
        }

        .memory-card h3 {
            color: #ff8a00;
            margin-bottom: 15px;
            font-size: 1.5rem;
            font-weight: 300;
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 1; }
        }

        .final-message {
            font-size: 1.8rem;
            line-height: 1.6;
            margin: 40px 0;
            padding: 40px;
            border: 1px solid rgba(255, 138, 0, 0.3);
            border-radius: 15px;
            background: rgba(0, 0, 0, 0.3);
            font-style: italic;
        }

        .heart-beat {
            font-size: 4rem;
            color: #ff4757;
            animation: heartbeat 1.5s infinite;
            margin: 20px;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .page-number {
            position: absolute;
            top: 20px;
            right: 20px;
            color: rgba(255, 138, 0, 0.5);
            font-size: 0.9rem;
            letter-spacing: 1px;
        }

        .timer-instruction {
            font-size: 1.2rem;
            color: #FFD700;
            margin-bottom: 10px;
            font-style: italic;
        }

        .countdown-timer {
            font-size: 2rem;
            color: #FF8A00;
            margin: 20px 0;
            font-weight: bold;
            letter-spacing: 5px;
            text-shadow: 0 0 10px rgba(255, 138, 0, 0.5);
        }

        @media (max-width: 768px) {
            .elegant-title { font-size: 2.2rem; }
            .message { font-size: 1.2rem; }
            .fireworks-title { font-size: 2rem; }
            .fireworks-message { font-size: 1rem; }
            .tier-1 { width: 220px; height: 80px; }
            .tier-2 { width: 300px; height: 90px; }
            .tier-3 { width: 380px; height: 100px; }
            .plate { width: 420px; }
            .candles-row { gap: 1.5rem; }
            .gift-box { width: 150px; height: 150px; }
            .gift-lid { width: 170px; }
            .memory-pic {
                width: 150px;
                height: 150px;
            }
            .letter-container {
                padding: 2rem 1.5rem;
            }
            .letter-title {
                font-size: 1.5rem;
            }
            .greeting {
                font-size: 1.4rem;
            }
            .letter-body {
                font-size: 1.1rem;
            }
            .letter-closing {
                font-size: 1.2rem;
            }
            .letter-signature {
                font-size: 1.6rem;
            }
        }

        @media (max-width: 480px) {
            .tier-1 { width: 180px; height: 70px; }
            .tier-2 { width: 240px; height: 80px; }
            .tier-3 { width: 300px; height: 90px; }
            .plate { width: 340px; }
            .candles-row { gap: 1rem; }
            .candle-stick { height: 50px; }
            .memory-pic {
                width: 120px;
                height: 120px;
            }
            .pictures-container {
                gap: 15px;
            }
            .letter-container {
                padding: 1.5rem 1rem;
            }
            .letter-title {
                font-size: 1.3rem;
            }
            .greeting {
                font-size: 1.2rem;
            }
            .letter-body {
                font-size: 1rem;
            }
            .letter-closing {
                font-size: 1.1rem;
            }
            .letter-signature {
                font-size: 1.4rem;
            }
        }
    </style>
</head>
<body>
<!-- NEW Page 1: Gift (was Page 4) -->
<div class="page active" id="page1">
    <div class="page-number"></div>
    <h1 class="elegant-title">For You</h1>
    <div class="gift-box" id="giftBox" onclick="nextPage(2)">
        <div class="gift-lid"></div>
        <div class="gift-ribbon"></div>
    </div>
    <p class="message">
        While material gifts are nice, what I really want to give you today is my deepest appreciation for who you are.
    </p>
    <div class="gift-instruction">
        Click the gift box to continue...
    </div>
</div>

<!-- Page 2: Fireworks Birthday Animation -->
<div class="page hidden" id="page2">
    <div class="page-number"></div>
    <div class="fireworks-page">
        <canvas id="fireworksCanvas"></canvas>
        <div class="fireworks-content">
            <button class="next-btn" onclick="nextPage(3)">
                Continue to Cake <i class="fas fa-birthday-cake"></i>
            </button>
        </div>
    </div>
</div>

<!-- Page 3: Interactive Cake -->
<div class="page hidden" id="page3">
    <div class="page-number"></div>
    <h1 class="elegant-title">Make Your Wishes</h1>

    <div class="timer-instruction">Click each candle to blow it out and make a wish!</div>
    <div class="countdown-timer" id="countdown">5</div>

    <div class="cake-container">
        <div class="cake">
            <div class="candles-row" id="candlesRow"></div>
            <div class="cake-tier tier-1">
                <div class="cake-side"></div>
                <div class="cake-layer"></div>
                <div class="frosting-layer">
                    <div class="frosting-swirls" id="swirls1"></div>
                </div>
            </div>
            <div class="cake-tier tier-2">
                <div class="cake-side"></div>
                <div class="cake-layer"></div>
                <div class="frosting-layer">
                    <div class="frosting-swirls" id="swirls2"></div>
                </div>
            </div>
            <div class="cake-tier tier-3">
                <div class="cake-side"></div>
                <div class="cake-layer"></div>
                <div class="frosting-layer">
                    <div class="frosting-swirls" id="swirls3"></div>
                </div>
            </div>
            <div class="plate"></div>
        </div>
    </div>

    <p class="message" id="cakeMessage">
        Click each candle one by one.<br>
        Make a wish for each candle you blow out!
    </p>
    <button class="next-btn" id="cakeButton" onclick="nextPage(5)">
        Waiting for wishes... <i class="fas fa-hourglass-half"></i>
    </button>
</div>

<!-- Page 5: Letter -->
<div class="page hidden" id="page5">
    <div class="page-number"></div>
    <h1 class="elegant-title">A Letter For You</h1>

    <div class="letter-wrapper">
        <div class="letter-container">
            <div class="ink-stain" style="top: 5%; right: 10%;"></div>
            <div class="ink-stain" style="bottom: 8%; left: 15%;"></div>
            <div class="ink-stain small" style="top: 40%; left: 5%;"></div>
            <div class="ink-stain small" style="top: 60%; right: 8%;"></div>
            <div class="corner-decoration" style="top: 0; left: 0;">
                ‚ù¶
            </div>
            <div class="corner-decoration" style="top: 0; right: 0;">
                ‚ù¶
            </div>
            <div class="corner-decoration" style="bottom: 0; left: 0;">
                ‚ù¶
            </div>
            <div class="corner-decoration" style="bottom: 0; right: 0;">
                ‚ù¶
            </div>
            <header class="letter-header">
                <h1 class="letter-title">A Special Letter</h1>
                <p class="letter-subtitle">On Your Birthday</p>
            </header>
            <div class="letter-content">
                <div class="greeting">
                    Dear MP,
                </div>
                <div class="decoration"><span>‚ú¶</span> <span>‚Ä¢</span> <span>‚ù¶</span> <span>‚Ä¢</span> <span>‚ú¶</span>
                </div>
                <p class="letter-body">
                    Meeting you felt like opening a book I couldn't put down. From the very first chapter, you drew me in your kindness the opening line, your smile the hook that held me. With every day we spend together, our story grows richer, more compelling, more ours.

                    You are my favorite character complex, heroic, beautifully human. In your eyes, I find subplots of tenderness; in your laughter, dialogue that lightens my heart. The conflicts we've faced have only strengthened our narrative, and the quiet moments between us are like well-crafted scenes I return to again and again.

                    We are writing something epic, you and I. Not a fleeting short story, but a volume that spans lifetimes filled with adventure, warmth, understanding, and a love that deepens with every turned page. I can't wait to read what happens next, as long as I'm reading it with you.

                    Here's to our never ending story. With you, every page feels like home.
                </p>
                <div class="decoration"><span>‚ùß</span> <span>‚Ä¢</span> <span>‚ú¶</span> <span>‚Ä¢</span> <span>‚ùß</span>
                </div>
                <div class="letter-closing">
                    With all my love,
                </div>
                <div class="letter-signature">
                    AK
                </div>
            </div>
        </div>
    </div>

    <p class="message">
        From my heart to yours, on this special day.
    </p>
    <button class="next-btn" onclick="nextPage(6)">
        Final Words <i class="fas fa-heart"></i>
    </button>
</div>

<!-- Page 6: Final Message -->
<div class="page hidden" id="page6">
    <div class="page-number"></div>
    <h1 class="elegant-title">With Love</h1>

    <div class="final-message">
        "May this year bring you<br>
        endless joy, meaningful growth,<br>
        and beautiful moments.<br><br>

        You deserve all the happiness in the world,<br>
        today and every day."
    </div>

    <div class="heart-beat">
        <i class="fas fa-heart"></i>
    </div>

    <p class="message">
        Thank you for being exactly who you are.<br>
        Happy Birthday.
    </p>

    <button class="next-btn" onclick="location.reload()">
        <i class="fas fa-redo"></i> Experience Again
    </button>
</div>

<!-- Background Stars -->
<div class="stars" id="stars"></div>

<script>
    // Global variables
    let litCandles = 5;
    let countdownInterval;
    let timeLeft = 5;
    let allCandlesBlown = false;

    // Create stars background
    function createStars() {
        const starsContainer = document.getElementById('stars');
        for (let i = 0; i < 100; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.width = `${Math.random() * 3 + 1}px`;
            star.style.height = star.style.width;
            star.style.left = `${Math.random() * 100}%`;
            star.style.top = `${Math.random() * 100}%`;
            star.style.animationDelay = `${Math.random() * 3}s`;
            starsContainer.appendChild(star);
        }
    }

    // Create interactive candles
    function createCandles() {
        const candlesRow = document.getElementById('candlesRow');
        candlesRow.innerHTML = '';

        for (let i = 0; i < 5; i++) {
            const candle = document.createElement('div');
            candle.className = 'candle';
            candle.innerHTML = `
                <div class="flame" data-candle="${i}"></div>
                <div class="candle-stick"></div>
            `;

            candle.addEventListener('click', () => blowOutCandle(i));
            candlesRow.appendChild(candle);
        }
    }

    // Create frosting swirls
    function createSwirls() {
        for (let tier = 1; tier <= 3; tier++) {
            const container = document.getElementById(`swirls${tier}`);
            container.innerHTML = '';

            const numSwirls = Math.floor(Math.random() * 8) + 10;
            for (let i = 0; i < numSwirls; i++) {
                const swirl = document.createElement('div');
                swirl.className = 'swirl';
                swirl.style.left = Math.random() * 90 + '%';
                swirl.style.top = Math.random() * 70 + '%';
                swirl.style.animationDelay = Math.random() * 3 + 's';
                swirl.style.transform = `rotate(${Math.random() * 360}deg)`;
                container.appendChild(swirl);
            }
        }
    }

    // Blow out individual candle
    function blowOutCandle(index) {
        const flame = document.querySelector(`[data-candle="${index}"]`);
        if (flame && !flame.classList.contains('out')) {
            flame.classList.add('out');
            litCandles--;

            // Update countdown display
            document.getElementById('countdown').textContent = litCandles;

            if (litCandles === 0) {
                allCandlesBlown = true;
                celebrate();
                enableNextButton();
            }
        }
    }

    // Celebration animation
    function celebrate() {
        const cakeMessage = document.getElementById('cakeMessage');
        cakeMessage.innerHTML = 'All your wishes have been made! üéâ<br>May they all come true this year!';

        const emojis = ['‚ú®', 'ü•Ç', 'üçæ', '‚≠ê', 'üí´', 'üåü'];
        for (let i = 0; i < 25; i++) {
            setTimeout(() => {
                const emoji = document.createElement('div');
                emoji.className = 'celebration';
                emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                emoji.style.left = Math.random() * 100 + '%';
                emoji.style.top = '50%';
                document.body.appendChild(emoji);

                setTimeout(() => emoji.remove(), 3000);
            }, i * 80);
        }

        const confettiColors = ['#d4af37', '#c9a961', '#f4e5b0', '#ff69b4', '#87ceeb'];
        for (let i = 0; i < 60; i++) {
            setTimeout(() => {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.top = '-20px';
                confetti.style.backgroundColor = confettiColors[Math.floor(Math.random() * confettiColors.length)];
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '2px';
                document.body.appendChild(confetti);

                setTimeout(() => confetti.remove(), 3000);
            }, i * 40);
        }
    }

    // Enable next button
    function enableNextButton() {
        const cakeButton = document.getElementById('cakeButton');
        cakeButton.disabled = false;
        cakeButton.innerHTML = 'Continue to Letter <i class="fas fa-envelope"></i>';
        cakeButton.onclick = function() { nextPage(5); };
    }

    // Start countdown timer
    function startCountdown() {
        const countdownEl = document.getElementById('countdown');
        countdownEl.textContent = timeLeft;

        countdownInterval = setInterval(() => {
            timeLeft--;
            countdownEl.textContent = timeLeft;

            if (timeLeft <= 0) {
                clearInterval(countdownInterval);
                if (!allCandlesBlown) {
                    document.getElementById('cakeMessage').innerHTML =
                        'Time\'s up! Click the candles quickly next time!<br>You can still continue to the letter.';
                    enableNextButton();
                }
            }
        }, 1000);
    }

    // Fireworks Animation Code
    let fireworksInitialized = false;

    function initFireworks() {
        if (fireworksInitialized) return;
        fireworksInitialized = true;

        const c = document.getElementById('fireworksCanvas');
        const ctx = c.getContext('2d');
        let w = c.width = c.parentElement.clientWidth;
        let h = c.height = c.parentElement.clientHeight;
        let hw = w / 2;
        let hh = h / 2;

        const messageSets = [
            ['HAPPY','BIRTHDAY', 'MUSTAFA']
        ];

        let currentMessageIndex = 0;

        const opts = {
            strings: messageSets[currentMessageIndex],
            charSize: 30, // Changed from 30 to 40 (increased font size)
            charSpacing: 30, // Adjusted spacing for larger font
            lineHeight: 50, // Adjusted line height for larger font
            cx: w / 2,
            cy: h / 2,
            fireworkPrevPoints: 10,
            fireworkBaseLineWidth: 5,
            fireworkAddedLineWidth: 8,
            fireworkSpawnTime: 200,
            fireworkBaseReachTime: 30,
            fireworkAddedReachTime: 30,
            fireworkCircleBaseSize: 20,
            fireworkCircleAddedSize: 10,
            fireworkCircleBaseTime: 30,
            fireworkCircleAddedTime: 30,
            fireworkCircleFadeBaseTime: 10,
            fireworkCircleFadeAddedTime: 5,
            fireworkBaseShards: 5,
            fireworkAddedShards: 5,
            fireworkShardPrevPoints: 3,
            fireworkShardBaseVel: 4,
            fireworkShardAddedVel: 2,
            fireworkShardBaseSize: 3,
            fireworkShardAddedSize: 3,
            gravity: .1,
            upFlow: -.1,
            letterContemplatingWaitTime: 360,
            balloonSpawnTime: 20,
            balloonBaseInflateTime: 10,
            balloonAddedInflateTime: 10,
            balloonBaseSize: 20,
            balloonAddedSize: 20,
            balloonBaseVel: .4,
            balloonAddedVel: .4,
            balloonBaseRadian: -(Math.PI / 2 - .5),
            balloonAddedRadian: -1,
        };

        const calc = {
            totalWidth: opts.charSpacing * Math.max(opts.strings[0].length, opts.strings[1].length)
        };

        const Tau = Math.PI * 2;
        const TauQuarter = Tau / 4;
        let letters = [];

        // Set initial font
        ctx.font = opts.charSize + 'px Verdana';

        // Letter class
        function Letter(char, x, y) {
            this.char = char;
            this.x = x;
            this.y = y;
            this.dx = -ctx.measureText(char).width / 2;
            this.dy = +opts.charSize / 2;
            this.fireworkDy = this.y - hh;

            const hue = (x + calc.totalWidth / 2) / calc.totalWidth * 360;
            this.color = 'hsl(hue,80%,50%)'.replace('hue', hue);
            this.lightAlphaColor = 'hsla(hue,80%,light%,alp)'.replace('hue', hue);
            this.lightColor = 'hsl(hue,80%,light%)'.replace('hue', hue);
            this.alphaColor = 'hsla(hue,80%,50%,alp)'.replace('hue', hue);

            this.reset();
        }

        Letter.prototype.reset = function() {
            this.phase = 'firework';
            this.tick = 0;
            this.spawned = false;
            this.spawningTime = opts.fireworkSpawnTime * Math.random() | 0;
            this.reachTime = opts.fireworkBaseReachTime + opts.fireworkAddedReachTime * Math.random() | 0;
            this.lineWidth = opts.fireworkBaseLineWidth + opts.fireworkAddedLineWidth * Math.random();
            this.prevPoints = [[0, hh, 0]];
        };

        Letter.prototype.step = function() {
            if (this.phase === 'firework') {
                if (!this.spawned) {
                    ++this.tick;
                    if (this.tick >= this.spawningTime) {
                        this.tick = 0;
                        this.spawned = true;
                    }
                } else {
                    ++this.tick;
                    const linearProportion = this.tick / this.reachTime;
                    const armonicProportion = Math.sin(linearProportion * TauQuarter);
                    const x = linearProportion * this.x;
                    const y = hh + armonicProportion * this.fireworkDy;

                    if (this.prevPoints.length > opts.fireworkPrevPoints)
                        this.prevPoints.shift();

                    this.prevPoints.push([x, y, linearProportion * this.lineWidth]);

                    const lineWidthProportion = 1 / (this.prevPoints.length - 1);

                    for (let i = 1; i < this.prevPoints.length; ++i) {
                        const point = this.prevPoints[i];
                        const point2 = this.prevPoints[i - 1];

                        ctx.strokeStyle = this.alphaColor.replace('alp', i / this.prevPoints.length);
                        ctx.lineWidth = point[2] * lineWidthProportion * i;
                        ctx.beginPath();
                        ctx.moveTo(point[0], point[1]);
                        ctx.lineTo(point2[0], point2[1]);
                        ctx.stroke();
                    }

                    if (this.tick >= this.reachTime) {
                        this.phase = 'contemplate';
                        this.circleFinalSize = opts.fireworkCircleBaseSize + opts.fireworkCircleAddedSize * Math.random();
                        this.circleCompleteTime = opts.fireworkCircleBaseTime + opts.fireworkCircleAddedTime * Math.random() | 0;
                        this.circleCreating = true;
                        this.circleFading = false;
                        this.circleFadeTime = opts.fireworkCircleFadeBaseTime + opts.fireworkCircleFadeAddedTime * Math.random() | 0;
                        this.tick = 0;
                        this.tick2 = 0;

                        this.shards = [];
                        const shardCount = opts.fireworkBaseShards + opts.fireworkAddedShards * Math.random() | 0;
                        const angle = Tau / shardCount;
                        const cos = Math.cos(angle);
                        const sin = Math.sin(angle);
                        let x = 1;
                        let y = 0;

                        for (let i = 0; i < shardCount; ++i) {
                            const x1 = x;
                            x = x * cos - y * sin;
                            y = y * cos + x1 * sin;
                            this.shards.push(new Shard(this.x, this.y, x, y, this.alphaColor));
                        }
                    }
                }
            } else if (this.phase === 'contemplate') {
                ++this.tick;

                if (this.circleCreating) {
                    ++this.tick2;
                    const proportion = this.tick2 / this.circleCompleteTime;
                    const armonic = -Math.cos(proportion * Math.PI) / 2 + .5;

                    ctx.fillStyle = this.lightAlphaColor.replace('light', 50 + 50 * proportion).replace('alp', proportion);
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, armonic * this.circleFinalSize, 0, Tau);
                    ctx.fill();

                    if (this.tick2 > this.circleCompleteTime) {
                        this.tick2 = 0;
                        this.circleCreating = false;
                        this.circleFading = true;
                    }
                } else if (this.circleFading) {
                    ctx.fillStyle = this.lightColor.replace('light', 70);
                    ctx.fillText(this.char, this.x + this.dx, this.y + this.dy);

                    ++this.tick2;
                    const proportion = this.tick2 / this.circleFadeTime;
                    const armonic = -Math.cos(proportion * Math.PI) / 2 + .5;

                    ctx.fillStyle = this.lightAlphaColor.replace('light', 100).replace('alp', 1 - armonic);
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.circleFinalSize, 0, Tau);
                    ctx.fill();

                    if (this.tick2 >= this.circleFadeTime)
                        this.circleFading = false;
                } else {
                    ctx.fillStyle = this.lightColor.replace('light', 70);
                    ctx.fillText(this.char, this.x + this.dx, this.y + this.dy);
                }

                for (let i = 0; i < this.shards.length; ++i) {
                    this.shards[i].step();
                    if (!this.shards[i].alive) {
                        this.shards.splice(i, 1);
                        --i;
                    }
                }

                if (this.tick > opts.letterContemplatingWaitTime) {
                    this.phase = 'balloon';
                    this.tick = 0;
                    this.spawning = true;
                    this.spawnTime = opts.balloonSpawnTime * Math.random() | 0;
                    this.inflating = false;
                    this.inflateTime = opts.balloonBaseInflateTime + opts.balloonAddedInflateTime * Math.random() | 0;
                    this.size = opts.balloonBaseSize + opts.balloonAddedSize * Math.random() | 0;

                    const rad = opts.balloonBaseRadian + opts.balloonAddedRadian * Math.random();
                    const vel = opts.balloonBaseVel + opts.balloonAddedVel * Math.random();
                    this.vx = Math.cos(rad) * vel;
                    this.vy = Math.sin(rad) * vel;
                }
            } else if (this.phase === 'balloon') {
                ctx.strokeStyle = this.lightColor.replace('light', 80);

                if (this.spawning) {
                    ++this.tick;
                    ctx.fillStyle = this.lightColor.replace('light', 70);
                    ctx.fillText(this.char, this.x + this.dx, this.y + this.dy);

                    if (this.tick >= this.spawnTime) {
                        this.tick = 0;
                        this.spawning = false;
                        this.inflating = true;
                    }
                } else if (this.inflating) {
                    ++this.tick;
                    const proportion = this.tick / this.inflateTime;
                    const x = this.cx = this.x;
                    const y = this.cy = this.y - this.size * proportion;

                    ctx.fillStyle = this.alphaColor.replace('alp', proportion);
                    ctx.beginPath();
                    generateBalloonPath(x, y, this.size * proportion);
                    ctx.fill();

                    ctx.beginPath();
                    ctx.moveTo(x, y);
                    ctx.lineTo(x, this.y);
                    ctx.stroke();

                    ctx.fillStyle = this.lightColor.replace('light', 70);
                    ctx.fillText(this.char, this.x + this.dx, this.y + this.dy);

                    if (this.tick >= this.inflateTime) {
                        this.tick = 0;
                        this.inflating = false;
                    }
                } else {
                    this.cx += this.vx;
                    this.cy += this.vy += opts.upFlow;

                    ctx.fillStyle = this.color;
                    ctx.beginPath();
                    generateBalloonPath(this.cx, this.cy, this.size);
                    ctx.fill();

                    ctx.beginPath();
                    ctx.moveTo(this.cx, this.cy);
                    ctx.lineTo(this.cx, this.cy + this.size);
                    ctx.stroke();

                    ctx.fillStyle = this.lightColor.replace('light', 70);
                    ctx.fillText(this.char, this.cx + this.dx, this.cy + this.dy + this.size);

                    if (this.cy + this.size < -hh || this.cx < -hw || this.cx > hw)
                        this.phase = 'done';
                }
            }
        };

        // Shard class
        function Shard(x, y, vx, vy, color) {
            const vel = opts.fireworkShardBaseVel + opts.fireworkShardAddedVel * Math.random();
            this.vx = vx * vel;
            this.vy = vy * vel;
            this.x = x;
            this.y = y;
            this.prevPoints = [[x, y]];
            this.color = color;
            this.alive = true;
            this.size = opts.fireworkShardBaseSize + opts.fireworkShardAddedSize * Math.random();
        }

        Shard.prototype.step = function() {
            this.x += this.vx;
            this.y += this.vy += opts.gravity;

            if (this.prevPoints.length > opts.fireworkShardPrevPoints)
                this.prevPoints.shift();

            this.prevPoints.push([this.x, this.y]);

            const lineWidthProportion = this.size / this.prevPoints.length;

            for (let k = 0; k < this.prevPoints.length - 1; ++k) {
                const point = this.prevPoints[k];
                const point2 = this.prevPoints[k + 1];

                ctx.strokeStyle = this.color.replace('alp', k / this.prevPoints.length);
                ctx.lineWidth = k * lineWidthProportion;
                ctx.beginPath();
                ctx.moveTo(point[0], point[1]);
                ctx.lineTo(point2[0], point2[1]);
                ctx.stroke();
            }

            if (this.prevPoints[0][1] > hh)
                this.alive = false;
        };

        // Balloon path generator
        function generateBalloonPath(x, y, size) {
            ctx.moveTo(x, y);
            ctx.bezierCurveTo(x - size / 2, y - size / 2,
                            x - size / 4, y - size,
                            x, y - size);
            ctx.bezierCurveTo(x + size / 4, y - size,
                            x + size / 2, y - size / 2,
                            x, y);
        }

        // Animation loop
        function anim() {
            requestAnimationFrame(anim);
            ctx.fillStyle = 'rgba(15, 12, 41, 0.3)';
            ctx.fillRect(0, 0, w, h);
            ctx.translate(hw, hh);

            let done = true;
            for (let l = 0; l < letters.length; ++l) {
                letters[l].step();
                if (letters[l].phase !== 'done')
                    done = false;
            }

            ctx.translate(-hw, -hh);

            if (done) {
                for (let l = 0; l < letters.length; ++l)
                    letters[l].reset();
            }
        }

        // Initialize letters
        function initLetters() {
            letters = [];
            for (let i = 0; i < opts.strings.length; ++i) {
                for (let j = 0; j < opts.strings[i].length; ++j) {
                    letters.push(new Letter(
                        opts.strings[i][j],
                        j * opts.charSpacing + opts.charSpacing / 2 - opts.strings[i].length * opts.charSize / 2,
                        i * opts.lineHeight + opts.lineHeight / 2 - opts.strings.length * opts.lineHeight / 2
                    ));
                }
            }
        }

        // Resize handler
        function handleResize() {
            w = c.width = c.parentElement.clientWidth;
            h = c.height = c.parentElement.clientHeight;
            hw = w / 2;
            hh = h / 2;
            opts.cx = w / 2;
            opts.cy = h / 2;
            ctx.font = opts.charSize + 'px Verdana';
            calc.totalWidth = opts.charSpacing * Math.max(opts.strings[0].length, opts.strings[1].length);
            initLetters();
        }

        // Initialize
        initLetters();
        anim();

        // Handle resize
        window.addEventListener('resize', handleResize);
    }

    // Navigate between pages
    function nextPage(pageNumber) {
        // Clear any existing countdown
        if (countdownInterval) {
            clearInterval(countdownInterval);
        }

        // Hide all pages
        document.querySelectorAll('.page').forEach(page => {
            page.classList.remove('active');
            setTimeout(() => {
                page.classList.add('hidden');
            }, 300);
        });

        // Show next page
        setTimeout(() => {
            const nextPage = document.getElementById(`page${pageNumber}`);
            nextPage.classList.remove('hidden');
            setTimeout(() => {
                nextPage.classList.add('active');
            }, 50);

            // Initialize page 2 with fireworks
            if (pageNumber === 2) {
                setTimeout(() => {
                    initFireworks();
                }, 500);
            }

            // Initialize page 3 with interactive cake
            if (pageNumber === 3) {
                setTimeout(() => {
                    // Reset values
                    litCandles = 5;
                    allCandlesBlown = false;
                    timeLeft = 5;

                    // Create interactive elements
                    createCandles();
                    createSwirls();

                    // Start countdown
                    startCountdown();

                    // Reset button
                    const cakeButton = document.getElementById('cakeButton');
                    cakeButton.disabled = true;
                    cakeButton.innerHTML = 'Waiting for wishes... <i class="fas fa-hourglass-half"></i>';
                    cakeButton.onclick = null;

                    // Reset message
                    document.getElementById('cakeMessage').innerHTML =
                        'Click each candle one by one.<br>Make a wish for each candle you blow out!';
                }, 500);
            }

            // Animate letter entry on page 5
            if (pageNumber === 5) {
                setTimeout(() => {
                    const letterContainer = document.querySelector('.letter-container');
                    if (letterContainer) {
                        letterContainer.style.opacity = '0';
                        letterContainer.style.transform = 'translateY(20px)';

                        setTimeout(() => {
                            letterContainer.style.transition = 'all 1s ease';
                            letterContainer.style.opacity = '1';
                            letterContainer.style.transform = 'translateY(0)';
                        }, 100);
                    }
                }, 500);
            }
        }, 300);
    }

    // Initialize
    window.onload = function() {
        createStars();
    };
</script>
</body>
</html>